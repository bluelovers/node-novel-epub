{"version":3,"file":"util.js","sourceRoot":"","sources":["util.ts"],"names":[],"mappings":";AAAA;;GAEG;;AAIH,mDAAsD;AAE7C,qBAFA,iBAAU,CAEA;AAEnB,6CAA6C;AAC7C,GAAG;AACH,uDAAuD;AACvD,GAAG;AAEH,SAAgB,QAAQ,CAAC,GAAG;IAE3B,OAAO,CACN,OAAO;QACP,GAAG;aACD,QAAQ,EAAE;aACV,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC;aAElC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC;aAC1B,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC;aAE1B,OAAO,CAAC,uBAAuB,EAAE,UAAU,GAAG,CAAC;YAE/C,iBAAiB;YAEjB,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,wBAAwB,CAAC;QAC7D,CAAC,CAAC;aAED,OAAO,CAAC,6BAA6B,EAAE,OAAO,CAAC;YAEhD,qFAAqF;aAEpF,OAAO,CAAC,KAAK,EAAE,eAAe,CAAC;UAC/B,QAAQ,CAAC;SAEV,OAAO,CAAC,qBAAqB,EAAE,sBAAsB,CAAC;SAEtD,OAAO,CAAC,gFAAgF,EAAE,wDAAwD,CAAC;SAEnJ,OAAO,CAAC,eAAe,EAAE,2CAA2C,CAAC;SACrE,OAAO,CAAC,QAAQ,EAAE,kCAAkC,CAAC,CACrD;AACH,CAAC;AAhCD,4BAgCC;AAED,kBAAe,OAAkC,CAAC","sourcesContent":["/**\n * Created by user on 2018/2/18/018.\n */\n\nimport getUuidByString = require('uuid-by-string');\nimport { crlf } from 'crlf-normalize';\nimport { createUUID } from 'epub-maker2/src/lib/uuid';\n\nexport { createUUID }\n\n//export function createUUID(input?: unknown)\n//{\n//\treturn getUuidByString(String(input)).toLowerCase();\n//}\n\nexport function splitTxt(txt)\n{\n\treturn (\n\t\t'<div>' +\n\t\ttxt\n\t\t\t.toString()\n\t\t\t.replace(/\\r\\n|\\r(?!\\n)|\\n/g, \"\\n\")\n\n\t\t\t.replace(/\\u003C/g, '&lt;')\n\t\t\t.replace(/\\u003E/g, '&gt;')\n\n\t\t\t.replace(/&lt;(img.+?)\\/?&gt;/gm, function (...m)\n\t\t\t{\n\t\t\t\t//console.log(m);\n\n\t\t\t\treturn `<${m[1].replace(/\\/+$/, '')} class=\"inner-image\"/>`;\n\t\t\t})\n\n\t\t\t.replace(/^[ ]*[－＝\\-—\\=─–]{3,}[ ]*$/mg, '<hr/>')\n\n\t\t\t//.replace(/^([－＝\\-—\\=─═─＝=══－\\-─—◆◇]+)$/mg, '<span class=\"overflow-line\">$1</span>')\n\n\t\t\t.replace(/\\n/g, '</div>\\n<div>')\n\t\t+ '</div>')\n\n\t\t.replace(/<div><hr\\/><\\/div>/g, '<hr class=\"linehr\"/>')\n\n\t\t.replace(/<div>[ ]*([－＝—=─═─＝=══－\\-─—～◆◇\\*＊\\+＊＊↣◇◆☆★■□☆◊▃\\p{Punctuation}]+)[ ]*<\\/div>/ug, '<div class=\"linegroup calibre1 overflow-line\">$1</div>')\n\n\t\t.replace(/<div><\\/div>/g, '<div class=\"linegroup softbreak\">　 </div>')\n\t\t.replace(/<div>/g, '<div class=\"linegroup calibre1\">')\n\t\t;\n}\n\nexport default exports as typeof import('./util');\n"]}