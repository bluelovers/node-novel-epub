{"version":3,"file":"util.js","sourceRoot":"","sources":["util.ts"],"names":[],"mappings":";AAAA;;GAEG;;AAEH,aAAa;AACb,uCAAkD;AAClD,mDAAsD;AAI7C,qBAJA,iBAAU,CAIA;AAHnB,qDAA4D;AAK5D,6CAA6C;AAC7C,GAAG;AACH,uDAAuD;AACvD,GAAG;AAEH;;GAEG;AACH,SAAgB,wBAAwB,CAAC,IAAqB;IAE7D,OAAO,8BAAY,CAAC,IAAI,EAAE;QACzB,mBAAmB;QACnB,KAAK,EAAE,KAAK;QACZ,iBAAiB;QACjB,aAAa,EAAE,IAAI;KACnB,CAAC,CAAC;AACJ,CAAC;AARD,4DAQC;AAED,SAAgB,qBAAqB,CAAC,IAAY;IAEjD,OAAO,wBAAwB,CAAC,uBAAY,CAAC,IAAI,CAAC,CAAC,CAAC;AACrD,CAAC;AAHD,sDAGC;AAED,SAAgB,0BAA0B,CAAC,IAAY;IAEtD,OAAQ,mBAAQ,CAAC,IAAI,CAAqB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAC3E,CAAC;AAHD,gEAGC","sourcesContent":["/**\n * Created by user on 2018/2/18/018.\n */\n\n// @ts-ignore\nimport { readFile, readFileSync } from 'fs-iconv';\nimport { createUUID } from 'epub-maker2/src/lib/uuid';\nimport { mdconf_parse, IMdconfMeta } from 'node-novel-info';\nimport Bluebird = require('bluebird');\n\nexport { createUUID }\n\n//export function createUUID(input?: unknown)\n//{\n//\treturn getUuidByString(String(input)).toLowerCase();\n//}\n\n/**\n * 讀取不標準的 mdconf\n */\nexport function parseLowCheckLevelMdconf(data: string | Buffer)\n{\n\treturn mdconf_parse(data, {\n\t\t// 當沒有包含必要的內容時不產生錯誤\n\t\tthrow: false,\n\t\t// 允許不標準的 info 內容\n\t\tlowCheckLevel: true,\n\t});\n}\n\nexport function fsLowCheckLevelMdconf(file: string)\n{\n\treturn parseLowCheckLevelMdconf(readFileSync(file));\n}\n\nexport function fsLowCheckLevelMdconfAsync(file: string)\n{\n\treturn (readFile(file) as Promise<Buffer>).then(parseLowCheckLevelMdconf);\n}\n"]}